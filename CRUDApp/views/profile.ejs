<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>View Student</title>

    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css"
    />
  </head>
  <body class="container">
    <div class="ui container">
      <div class="ui block header">
        <h1>Student Profile<i class="flag ph"></i></h1>
      </div>
      <div class="content ui segment">
        <% if(students.length){ %> <%students.forEach((student)=>{%>

        <div class="ui one column doubling stackable grid container">
          <div class="column">
            <h1 class="ui header">
              <% if(student.gender=="Male"){%>
              <img class="ui medium circular image" src="/images/boy.png" />
              <%}else{%>

              <img class="ui medium circular image" src="/images/girl.png" />
              <% } %>
              <!-- <i>
                <i class="ui medium circular"> </i>
                <i class="user icon"></i>
              </i> -->
              <%=student.first_name%> <%=student.last_name%>
              <div class="sub header">
                SID: <%=student.sid%>
              </div>
            </h1>
          </div>
        </div>
        <div class="ui one column doubling stackable grid container">
          <div class="column">
            <h3 class="ui header">
              Level
              <div class="sub header">
                <%=student.level%>
              </div>
            </h3>
          </div>
        </div>

        <div class="ui one column doubling stackable grid container">
          <div class="column">
            <h3 class="ui header">
              Birthday
              <div class="sub header">
                <%=new Date(student.birthday).toLocaleDateString()%>
              </div>
            </h3>
          </div>
        </div>
        <div class="ui one column doubling stackable grid container">
          <div class="column">
            <h3 class="ui header">
              Age
              <div class="sub header">
                <% var a=(new Date(student.birthday).toLocaleDateString());
                function getAge(DOB) { var today = new Date(); var birthDate =
                new Date(DOB); var age = today.getFullYear() -
                birthDate.getFullYear(); var m = today.getMonth() -
                birthDate.getMonth(); if (m < 0 || (m === 0 && today.getDate() <
                birthDate.getDate())) { age = age - 1; } return age; }%> <%=
                getAge(a)%>
              </div>
            </h3>
          </div>
        </div>
        <div class="ui one column doubling stackable grid container">
          <div class="column">
            <h3 class="ui header">
              Status
              <div class="sub header">
                <%=student.status%>
              </div>
            </h3>
          </div>
        </div>

        <div class="ui one column doubling stackable grid container">
          <div class="column">
            <h3 class="ui header">
              Gender
              <div class="sub header">
                <%=student.gender%>
              </div>
            </h3>
          </div>
        </div>
      </div>
      <a class="ui button primary left aligned" href="/edit/<%=student.sid%>">
        <i class="edit icon"></i>Edit</a
      >
      <a
        class="ui button negative left aligned"
        href="/delete/<%=student.sid%>"
        onclick="return confirm('Are you sure you want to delete?')"
      >
        <i class="trash icon"></i>Delete Student</a
      >
      <a class="ui button google plus left aligned" href="/studentlist">
        <i class="list icon"></i>View Students</a
      >

      <%})%> <%}%>
    </div>

    <script
      src="https://code.jquery.com/jquery-3.4.1.slim.js"
      integrity="sha256-BTlTdQO9/fascB1drekrDVkaKd9PkwBymMlHOiG+qLI="
      crossorigin="anonymous"
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.js"></script>
  </body>
</html>
